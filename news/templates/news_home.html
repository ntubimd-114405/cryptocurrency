{% extends 'base.html' %}

{% block title %}æ–°è{% endblock %}

{% block content %}
<style>
    h1 {
        font-size: 32px;
        color: #2E6695;
        /* æ¨™é¡Œä½¿ç”¨æ·±è—è‰² */
        margin-bottom: 40px;
        text-align: center;
    }

    .btn-test {
        display: block;
        /* è®“æŒ‰éˆ•è‡ªå‹•å»¶ä¼¸è‡³çˆ¶å®¹å™¨çš„å¯¬åº¦ */
        width: 100%;
        /* è¨­å®šå¯¬åº¦ç‚º100% */
        background-color: #eab31a;
        /* è¨­å®šèƒŒæ™¯é¡è‰² */
        color: white;
        /* å­—é«”é¡è‰²ç‚ºç™½è‰² */
        padding: 12px 20px;
        /* ä¸Šä¸‹12pxï¼Œå·¦å³20pxçš„å…§é‚Šè· */
        border: none;
        /* å–æ¶ˆé‚Šæ¡† */
        border-radius: 8px;
        /* ä½¿æŒ‰éˆ•æœ‰åœ“è§’ */
        text-align: center;
        /* æ–‡å­—ç½®ä¸­ */
        font-size: 16px;
        /* è¨­å®šå­—å‹å¤§å° */
        font-weight: bold;
        /* å­—å‹åŠ ç²— */
        text-decoration: none;
        /* å–æ¶ˆæ–‡å­—ä¸‹åŠƒç·š */
        box-sizing: border-box;
        /* ç¢ºä¿å…§é‚Šè·è¨ˆç®—ä¸å½±éŸ¿å¯¬åº¦ */
        transition: background-color 0.3s ease, transform 0.3s ease;
        /* æ·»åŠ éæ¸¡æ•ˆæœ */
    }

    .btn-test:hover {
        background-color: #f09f19;
        /* æ»‘é¼ æ‡¸åœæ™‚æ”¹è®ŠèƒŒæ™¯é¡è‰² */
        transform: scale(1.05);
        /* é¼ æ¨™æ‡¸åœæ™‚å¾®å¾®æ”¾å¤§ */
    }

    .btn-test:focus {
        outline: none;
        /* ç§»é™¤ç„¦é»æ™‚çš„è¼ªå»“ */
    }
</style>
<h1 class="mb-4">æœ€æ–°æ–°è</h1>
<div class="row">
    {% for article in all_articles|slice:"0:3" %}
    <div class="col-md-4 mb-4 d-flex align-items-stretch">
        <div class="card h-100 d-flex flex-column">
            {% if article.image_url %}
            <img class="card-img-top" src="{{ article.image_url }}" alt="æ–°èåœ–ç‰‡"
                style="width: 100%; height: 250px; object-fit: cover;">
            {% elif article.website.icon_url %}
            <a href="{{ article.url }}" target="_blank">
                <img src="{{ article.website.icon_url }}" alt="ç¶²ç«™ Logo" class="img-fluid rounded"
                    style="width: 100%; height: 250px; object-fit:contain;">
            </a>
            {% else %}
            ç„¡åœ–ç‰‡
            {% endif %}
            <div class="card-body d-flex flex-column">
                <h4 class="card-title">{{ article.title }}</h4>
                <p class="card-text flex-grow-1 text-start">
                    {% if article.summary and article.summary != "" %}
                    {{ article.summary|truncatewords:20 }}
                    {% else %}
                    {{ article.content|truncatewords:20 }}
                    {% endif %}
                </p>
                <div class="d-flex justify-content-between">
                    <a href="{% url 'news_detail' article_id=article.id %}" class=" btn-sm button-bu">è©•è«–</a>
                    <a href="{{ article.url }}" target="_blank" class=" btn-sm button-bu">é–±è®€æ›´å¤š...</a>
                </div>
            </div>
            <div class="card-footer text-muted text-center">
                {% if article.sentiment == 'positive' %}
                ğŸ˜„ æ­£é¢
                {% elif article.sentiment == 'neutral' %}
                ğŸ˜ ä¸­ç«‹
                {% elif article.sentiment == 'negative' %}
                ğŸ˜” è² é¢
                {% else %}
                â“ æœªçŸ¥
                {% endif %}
                <span class="mx-2">â€¢</span>
                {{ article.time|date:"Y-m-d H:i" }}
                <span class="mx-2">â€¢</span>
                <a href="{{ article.website.url }}" target="_blank" class="text-muted small text-decoration-none">
                    è³‡æ–™ä¾†æºï¼š{{ article.website.name }}
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- "æŸ¥çœ‹æ›´å¤šæ–°è" æŒ‰éˆ• -->
<div class="text-center mt-3">
    <a href="{% url 'news_list' %}" class="btn-test">æŸ¥çœ‹æ›´å¤šæ–°è...</a>
</div>

<!-- æœ€æ–° Twitter è²¼æ–‡ -->
<h1 class="mt-5 mb-4">æœ€æ–° Twitter è²¼æ–‡</h1>
<div class="row">
    {% for xpost in xposts|slice:"0:3" %}
    <div class="col-md-4 mb-4 d-flex align-items-stretch">
        <div class="card h-100 d-flex flex-column">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">Post ID: {{ xpost.ids }}</h5>
                <div class="flex-grow-1" style="max-height: 300px; overflow: auto;">
                    {{ xpost.html|safe }}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- "æŸ¥çœ‹æ›´å¤šè²¼æ–‡" æŒ‰éˆ• -->
<div class="text-center mt-3">
    <a href="{% url 'X_list' %}" class="btn-test">æŸ¥çœ‹æ›´å¤šè²¼æ–‡...</a>
</div>
{% endblock %}